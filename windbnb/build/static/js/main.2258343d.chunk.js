(this.webpackJsonpwindbnb=this.webpackJsonpwindbnb||[]).push([[0],{14:function(e,t,c){},17:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(9),i=c.n(a),l=(c(14),c(4)),r=c.n(l),o=c(7),d=c(3),u=(c(6),c(0)),j=function(e){var t=e.filteringStays,c=e.filterValue,s=e.changeFilterValue,n=e.optionShow,a=function(e){n(e.target.title)};return Object(u.jsx)("div",{className:"search-form-modal",children:Object(u.jsxs)("form",{onSubmit:function(e){var s=[c.location,parseInt(c.maxGuests)];t(e,s)},children:[Object(u.jsxs)("div",{className:"input-control-modal",children:[Object(u.jsx)("label",{className:"input-label-modal",htmlFor:"location",children:"location"}),Object(u.jsx)("input",{value:c.location,type:"text",title:"location",name:"location",id:"location",placeholder:"Add location",className:"search-input-modal",onChange:s,onFocus:a,autoComplete:"off"})]}),Object(u.jsxs)("div",{className:"input-control-modal",children:[Object(u.jsx)("label",{className:"input-label-modal",htmlFor:"guests",children:"guests"}),Object(u.jsx)("input",{value:"".concat(c.maxGuests," ").concat(c.maxGuests>1?"guests":"guest"),type:"text",title:"guests",name:"guests",id:"guests",placeholder:"Add guests",className:"search-input-modal",onFocus:a,autoComplete:"off"})]}),Object(u.jsx)("div",{className:"input-control-modal",children:Object(u.jsxs)("button",{type:"submit",name:"search",className:"search-input-modal",children:[Object(u.jsx)("i",{class:"fas",children:"\uf002"})," Search"]})})]})})},b=c(2),h=Object(s.forwardRef)((function(e,t){var c=e.updateFilterValue,n=Object(s.useState)({adult:0,child:0}),a=Object(d.a)(n,2),i=a[0],l=a[1],r=Object(s.useState)({location:!1,guests:!1,default:!1}),o=Object(d.a)(r,2),j=o[0],h=o[1],O=function(){l({adult:0,child:0})},m=function(){h({location:!1,guests:!1,default:!1})},f=function(e){switch(e){case"location":h(Object(b.a)(Object(b.a)({},j),{},{location:!0,guests:!1}));break;case"guests":h(Object(b.a)(Object(b.a)({},j),{},{location:!1,guests:!0}))}},x=function(e){c(e.target.querySelector("small").innerText,void 0)},p=function(e,t){switch(e){case"add":switch(t){case"adult":l(Object(b.a)(Object(b.a)({},i),{},{adult:i.adult+=1}));break;case"child":l(Object(b.a)(Object(b.a)({},i),{},{child:i.child+=1}));break;default:l(Object(b.a)({},i))}break;case"min":switch(t){case"adult":i.adult>0&&l(Object(b.a)(Object(b.a)({},i),{},{adult:i.adult-=1}));break;case"child":i.child>0&&l(Object(b.a)(Object(b.a)({},i),{},{child:i.child-=1}));break;default:l(Object(b.a)({},i))}break;default:l(Object(b.a)({},i))}c(void 0,i.adult+i.child)};return Object(s.useImperativeHandle)(t,(function(){return{resetGuests:O,optionShow:f,resetOption:m}})),Object(u.jsxs)("div",{className:"option-container",children:[Object(u.jsx)("div",{className:"option-item",children:j.location&&Object(u.jsxs)("div",{children:[Object(u.jsxs)("button",{onClick:x,className:"opt-link",children:[Object(u.jsx)("i",{className:"fas",children:"\uf3c5"}),Object(u.jsx)("small",{children:"Helsinki, Finland"})]}),Object(u.jsxs)("button",{onClick:x,className:"opt-link",children:[Object(u.jsx)("i",{className:"fas",children:"\uf3c5"}),Object(u.jsx)("small",{children:"Turku, Finland"})]}),Object(u.jsxs)("button",{onClick:x,className:"opt-link",children:[Object(u.jsx)("i",{className:"fas",children:"\uf3c5"}),Object(u.jsx)("small",{children:"Oulu, Finland"})]}),Object(u.jsxs)("button",{onClick:x,className:"opt-link",children:[Object(u.jsx)("i",{className:"fas",children:"\uf3c5"}),Object(u.jsx)("small",{children:"Vaasa, Finland"})]})]})}),Object(u.jsx)("div",{className:"option-item",children:j.guests&&Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"opt-guest",children:[Object(u.jsx)("h3",{children:"Adults"}),Object(u.jsx)("p",{children:"Ages 13 or above"}),Object(u.jsxs)("div",{className:"item-amount",children:[Object(u.jsx)("div",{onClick:function(){p("min","adult")},className:"icon-amount",children:Object(u.jsx)("i",{className:"fas",children:"\uf068"})}),Object(u.jsx)("span",{className:"amount",children:i.adult}),Object(u.jsx)("div",{onClick:function(){p("add","adult")},className:"icon-amount",children:Object(u.jsx)("i",{className:"fas",children:"\uf067"})})]})]}),Object(u.jsxs)("div",{className:"opt-guest",children:[Object(u.jsx)("h3",{children:"Children"}),Object(u.jsx)("p",{children:"Ages 2-12"}),Object(u.jsxs)("div",{className:"item-amount",children:[Object(u.jsx)("div",{onClick:function(){p("min","child")},className:"icon-amount",children:Object(u.jsx)("i",{className:"fas",children:"\uf068"})}),Object(u.jsx)("span",{className:"amount",children:i.child}),Object(u.jsx)("div",{onClick:function(){p("add","child")},className:"icon-amount",children:Object(u.jsx)("i",{className:"fas",children:"\uf067"})})]})]})]})}),Object(u.jsx)("div",{className:"option-item"})]})})),O=Object(s.forwardRef)((function(e,t){var c=e.filteringStays,n=Object(s.useState)("none"),a=Object(d.a)(n,2),i=a[0],l=a[1],r=Object(s.useState)({location:"",maxGuests:0}),o=Object(d.a)(r,2),b=o[0],O=o[1],m=Object(s.useRef)(null),f=Object(s.useRef)(null),x=function(){l("none"),document.body.style.overflowY="scroll",O({location:"",maxGuests:0}),f.current.resetGuests(),f.current.resetOption()};window.onclick=function(e){if(e.target===m.current)return x()};var p=function(e){e.preventDefault(),l("flex"),document.body.style.overflowY="hidden"},v=function(){return Object(u.jsxs)("div",{className:"heading-search",children:[Object(u.jsx)("h2",{children:"Edit your search"}),Object(u.jsx)("i",{onClick:x,className:"fas",children:"\uf00d"})]})};return Object(s.useEffect)((function(){x()}),[]),Object(s.useImperativeHandle)(t,(function(){return{hideModal:x}})),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"search-form-container",children:Object(u.jsxs)("form",{action:"",children:[Object(u.jsx)("input",{onClick:p,type:"text",defaultValue:"Helsinki, Finland",className:"search-input"}),Object(u.jsx)("input",{onClick:p,type:"text",placeholder:"Add guests",className:"search-input"}),Object(u.jsx)("button",{onClick:p,type:"submit",name:"search",className:"search-input",children:Object(u.jsx)("i",{class:"fas",children:"\uf002"})})]})}),Object(u.jsx)("div",{className:"search-modal-container",style:{display:i},ref:m,children:Object(u.jsxs)("div",{className:"modal-wrap",children:[function(){if(window.onresize=function(){return window.innerWidth>540?null:v()},window.outerWidth<=540)return v()}(),Object(u.jsx)(j,{filteringStays:c,filterValue:b,changeFilterValue:function(e){return O({location:e.target.value,maxGuests:b.maxGuests})},optionShow:function(e){f.current.optionShow(e)}}),Object(u.jsx)(h,{ref:f,updateFilterValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.location,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.maxGuests;O({location:e,maxGuests:t})}})]})})]})})),m=Object(s.forwardRef)((function(e,t){var c=e.filteringStays,n=e.resetIsFiltered,a=Object(s.useRef)(null);return Object(s.useImperativeHandle)(t,(function(){return{hideModal:a.current.hideModal}})),Object(u.jsx)("header",{children:Object(u.jsxs)("nav",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"button-style-none",onClick:n,children:Object(u.jsx)("img",{src:"".concat("/windbnb","/images/logo.svg"),alt:""})})}),Object(u.jsx)(O,{ref:a,filteringStays:c})]})})})),f=(c(8),function(e){var t=e.stay,c=Object(s.useRef)(null);return Object(s.useEffect)((function(){!function(){var e=parseInt(c.current.offsetWidth/11),s=t.title;c.current.textContent=(null===s||void 0===s?void 0:s.length)>e?s.slice(0,e).split(" ").slice(0,-1).join(" ")+"...":s}()})),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"images-card",children:Object(u.jsx)("img",{src:t.photo,style:{width:"100%",height:"100%",objectFit:"cover"},alt:""},t.id)}),Object(u.jsxs)("div",{className:"desc-card",children:[t.superHost?Object(u.jsx)("button",{children:"super host"}):"",Object(u.jsx)("small",{className:"desc-type",children:"".concat(t.type).concat(t.beds?" . ".concat(t.beds," beds"):"")}),Object(u.jsxs)("small",{className:"desc-rating",children:[Object(u.jsx)("i",{className:"fas star-icon",children:"\uf005"})," ",t.rating]})]}),Object(u.jsx)("div",{className:"title-card",children:Object(u.jsx)("h3",{ref:c})})]})}),x=function(e){var t=e.stays;return Object(u.jsx)("div",{className:"cards grid-container",children:t.map((function(e){return Object(u.jsx)(f,{stay:e},e.id)}))})},p=function(e){var t=e.stays;return Object(u.jsxs)("main",{children:[Object(u.jsxs)("div",{className:"main-header",children:[Object(u.jsx)("h1",{children:t.length>0?"Stays in ".concat(t[0].country):"No Result"}),Object(u.jsx)("small",{children:t.length>6?"".concat(t.length-2,"+ stays"):t.length>1?"".concat(t.length," stays"):"".concat(t.length," stay")})]}),Object(u.jsx)(x,{stays:t})]})},v=function(){return Object(u.jsx)("footer",{children:Object(u.jsxs)("small",{className:"copyright",children:["created by",Object(u.jsx)("b",{children:Object(u.jsx)("a",{href:"https://github.com/gitraya",target:"_blank",rel:"noreferrer",children:"gitraya"})}),"- devChallenges.io"]})})},g=function(){var e=Object(s.useState)(null),t=Object(d.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(null),i=Object(d.a)(a,2),l=i[0],j=i[1],b=Object(s.useState)(!1),h=Object(d.a)(b,2),O=h[0],f=h[1],x=Object(s.useRef)(null),g=function(){var e=Object(o.a)(r.a.mark((function e(){var t,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("/windbnb","/stays.json"));case 2:return t=e.sent,e.next=5,t.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:(t=e.sent).map((function(e){return e.id=Math.floor(1e4*Math.random())+1})),j(t),n(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){N()}),[]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(m,{filteringStays:function(e,t){e.preventDefault();var s=t[0].split(", ")[0],n=t[0].split(", ")[1],a=t[1];x.current.hideModal();var i=c.filter((function(e){return e.city===s&&e.country===n&&e.maxGuests>=a}));j(i),f(!0)},ref:x,resetIsFiltered:function(){j(c),f(!1)}}),c?Object(u.jsx)(p,{stays:O?l:c}):Object(u.jsx)("main",{}),Object(u.jsx)(v,{})]})};i.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(g,{})}),document.getElementById("root"))},6:function(e,t,c){},8:function(e,t,c){}},[[17,1,2]]]);
//# sourceMappingURL=main.2258343d.chunk.js.map