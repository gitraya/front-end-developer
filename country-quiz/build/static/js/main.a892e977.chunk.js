(this["webpackJsonpcountry-quiz"]=this["webpackJsonpcountry-quiz"]||[]).push([[0],{15:function(e,t,a){"use strict";a.r(t);a(8);var s=a(2),c=a.n(s),n=a(7),r=a.n(n),i=a(4),l=a.n(i),u=a(6),o=a(1),j=a(3),b=function(e){return Math.floor(Math.random()*e)},d=function e(t,a){var s=b(t);return a.includes(s)?a.length<t&&e(t,a):(a.push(s),s)},h=function(e,t,a){var s,c,n,r,i=(e=null===(s=e)||void 0===s?void 0:s.filter((function(e){return e.capital&&""!==e.capital[0]})).filter((function(e){var t;return""!==(null===(t=e.flags)||void 0===t?void 0:t.svg)})))[b(e.length)],l=i,u=l.capital,o=void 0===u?[]:u,j=l.flags,h=void 0===j?{}:j;if(!o[0]||!(null===h||void 0===h?void 0:h.svg))return e[b(e.length)];for(var m=[],f=[],p=1;p<=3;p++){var O,v=d(e.length,f);m.push(null===(O=e[v].name)||void 0===O?void 0:O.common)}var x=[null===(c=i.name)||void 0===c?void 0:c.common].concat(m);!function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),s=[e[a],e[t]];e[t]=s[0],e[a]=s[1]}}(x),a({question:{capital:i.capital[0],flag:null===(n=i.flags)||void 0===n?void 0:n.svg},answer:{trueAnswer:null===(r=i.name)||void 0===r?void 0:r.common,falseAnswer:m},option:x,alfabet:t.alfabet})},m=function(e,t,a,s){switch(e.target.name){case"type":switch(s){case"capital":a(Object(o.a)(Object(o.a)({},t),{},{type:Object(o.a)(Object(o.a)({},t.type),{},{capital:!t.type.capital})}));break;case"flag":a(Object(o.a)(Object(o.a)({},t),{},{type:Object(o.a)(Object(o.a)({},t.type),{},{flag:!t.type.flag})}))}break;case"level":switch(e.target.value){case"VeryEasy":a(Object(o.a)(Object(o.a)({},t),{},{level:5}));break;case"Easy":a(Object(o.a)(Object(o.a)({},t),{},{level:15}));break;case"Normal":a(Object(o.a)(Object(o.a)({},t),{},{level:30}));break;case"Hard":a(Object(o.a)(Object(o.a)({},t),{},{level:65}));break;case"VeryHard":a(Object(o.a)(Object(o.a)({},t),{},{level:100}))}}},f=a(0),p=function(e){var t=e.quizState,a=e.setQuizState,s=e.getQuestion,c=e.setQuizAllType,n=e.isQuizReady,r=function(e){return m(e,t,a)};return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("h1",{className:"app-title",children:"country quiz"}),Object(f.jsx)("div",{className:"quiz-card menu",style:t.isTrue||t.isFalse?{paddingBottom:"1rem"}:{},children:Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){var e=t.type,a=e.capital,n=e.flag;if(!a&&!n)return alert("You must select at least one question type!");a&&n&&c(!0),s()}()},children:[Object(f.jsxs)("div",{className:"form-quiz-type",children:[Object(f.jsx)("h2",{className:"question-text menu",children:"Select the question type?"}),Object(f.jsxs)("div",{className:"input-control",children:[Object(f.jsx)("input",{id:"capital",name:"type",type:"checkbox",defaultChecked:t.type.capital,onChange:function(e){return m(e,t,a,"capital")},className:"checkbox-quiz"}),Object(f.jsx)("label",{className:"form-label",htmlFor:"capital",children:"Capital of a country"})]}),Object(f.jsxs)("div",{className:"input-control",children:[Object(f.jsx)("input",{id:"flag",name:"type",type:"checkbox",onChange:function(e){return m(e,t,a,"flag")},className:"checkbox-quiz"}),Object(f.jsx)("label",{className:"form-label",htmlFor:"flag",children:"Flag of a country"})]})]}),Object(f.jsxs)("div",{className:"form-quiz-type",children:[Object(f.jsx)("h2",{className:"question-text menu",children:"How many questions do you want to play?"}),Object(f.jsxs)("div",{className:"input-control",children:[Object(f.jsx)("input",{className:"radio-quiz",type:"radio",name:"level",id:"veryeasy",checked:5===t.level,onChange:r,value:"VeryEasy"}),Object(f.jsx)("label",{className:"form-label",htmlFor:"veryeasy",children:"Very Easy (5)"})]}),Object(f.jsxs)("div",{className:"input-control",children:[Object(f.jsx)("input",{className:"radio-quiz",type:"radio",name:"level",id:"easy",checked:15===t.level,onChange:r,value:"Easy"}),Object(f.jsx)("label",{className:"form-label",htmlFor:"easy",children:"Easy (15)"})]}),Object(f.jsxs)("div",{className:"input-control",children:[Object(f.jsx)("input",{className:"radio-quiz",type:"radio",name:"level",id:"normal",checked:30===t.level,onChange:r,value:"Normal"}),Object(f.jsx)("label",{className:"form-label",htmlFor:"normal",children:"Normal (30)"})]}),Object(f.jsxs)("div",{className:"input-control",children:[Object(f.jsx)("input",{className:"radio-quiz",type:"radio",name:"level",id:"hard",checked:65===t.level,onChange:r,value:"Hard"}),Object(f.jsx)("label",{className:"form-label",htmlFor:"hard",children:"Hard (65)"})]}),Object(f.jsxs)("div",{className:"input-control",children:[Object(f.jsx)("input",{className:"radio-quiz",type:"radio",name:"level",id:"veryhard",checked:100===t.level,onChange:r,value:"VeryHard"}),Object(f.jsx)("label",{className:"form-label",htmlFor:"veryhard",children:"Very Hard (100)"})]})]}),Object(f.jsx)("button",{disabled:!n,className:"start-button",type:"submit",children:"Start Game"})]})})]})},O=Object(s.forwardRef)((function(e,t){var a=e.answer,s=e.index,c=e.quizQuestion,n=e.quizState,r=e.checkAnswer,i=e.disabled,l="answer-button ".concat(n.isTrue||n.isFalse?"":" ");return Object(f.jsxs)("button",{ref:t,disabled:i,className:l,onClick:function(e){r(e,a)},children:[Object(f.jsxs)("div",{className:"wrap-answer",children:[Object(f.jsx)("span",{className:"alfa-text",children:c.alfabet[s]}),Object(f.jsx)("span",{className:"answer-text",children:a})]}),Object(f.jsx)("i",{className:"material-icons-round",children:n.isTrue?"check_circle_outline":n.isFalse?"highlight_off":""})]},s)})),v=Object(s.forwardRef)((function(e,t){var a=e.checkAnswer,c=e.quizState,n=e.quizQuestion,r=e.getQuestion,i=Object(s.useState)([]),l=Object(j.a)(i,2),u=l[0],o=l[1],b=n.option.map((function(e,t){return Object(f.jsx)(O,{ref:u[t],answer:e,index:t,quizState:c,quizQuestion:n,checkAnswer:a,disabled:c.isTrue||c.isFalse?"disabled":null},t)}));return Object(s.useEffect)((function(){o((function(e){return Array(n.option.length).fill().map((function(t,a){return e[a]||Object(s.createRef)()}))}))}),[n]),Object(s.useImperativeHandle)(t,(function(){return{buttonRefs:u}})),Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("h1",{className:"app-title",children:"country quiz"}),Object(f.jsx)("img",{className:"image-onquiz",src:"".concat("/country-quiz","/images/undraw_adventure_4hum 1.svg"),alt:"hero"}),Object(f.jsxs)("div",{className:"quiz-card",style:c.isTrue||c.isFalse?{paddingBottom:"1rem"}:{},children:[Object(f.jsxs)("span",{className:"text-stage",children:[c.stage,"/",c.level]}),c.type.capital?Object(f.jsx)("h2",{className:"question-text",children:"".concat(n.question.capital," is the capital of")}):c.type.flag?Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{alt:"Flag",src:n.question.flag,style:{width:"5.5rem",height:"auto",objectPosition:"center",objectFit:"cover"}}),Object(f.jsx)("h2",{className:"question-text",children:"Which country does this flag belong to?"})]}):"",b,c.isTrue||c.isFalse?Object(f.jsx)("button",{type:"submit",className:"next-button",onClick:r,children:"Next"}):""]})]})})),x=function(e){var t=e.quizState,a=e.resetQuizGame;return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("h1",{className:"app-title",children:"country quiz"}),Object(f.jsxs)("div",{className:"quiz-card end",children:[Object(f.jsx)("img",{src:"".concat("/country-quiz","/images/undraw_winners_ao2o 2.svg"),alt:"winners"}),Object(f.jsxs)("div",{className:"win-text",children:[Object(f.jsx)("h1",{children:"Results"}),Object(f.jsxs)("p",{children:["You got ",Object(f.jsx)("span",{className:"score-text",children:t.score})," ","correct answers"]})]}),Object(f.jsx)("button",{className:"try-button",type:"submit",onClick:a,children:"Try again"})]})]})},y=Object(s.forwardRef)((function(e,t){var a=e.isQuizReady,c=e.quizState,n=e.setQuizState,r=e.setQuizAllType,i=e.quizQuestion,l=e.checkAnswer,u=e.getQuestion,o=e.resetQuizGame,j=Object(s.useRef)(null);return Object(s.useImperativeHandle)(t,(function(){return{buttonRefs:j}})),Object(f.jsx)("main",{className:"App-main",children:c.startQuiz?Object(f.jsx)(v,{ref:j,quizState:c,quizQuestion:i,checkAnswer:l,getQuestion:u}):c.endQuiz?Object(f.jsx)(x,{quizState:c,resetQuizGame:o}):Object(f.jsx)(p,{isQuizReady:a,quizState:c,setQuizState:n,getQuestion:u,setQuizAllType:r})})})),g=function(){return Object(f.jsx)("footer",{className:"App-footer",children:Object(f.jsxs)("small",{className:"copyright",children:["created by ",Object(f.jsx)("b",{children:Object(f.jsx)("a",{href:"https://github.com/gitraya",target:"_blank",rel:"noreferrer",children:"gitraya"})}),"- devChallenges.io"]})})},z=function(){var e=Object(s.useState)(null),t=Object(j.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(!1),r=Object(j.a)(n,2),i=r[0],b=r[1],d=Object(s.useState)({question:{capital:"",flag:""},answer:{trueAnswer:"",falseAnswer:[]},option:[],alfabet:["A","B","C","D"]}),m=Object(j.a)(d,2),p=m[0],O=m[1],v=Object(s.useState)({startQuiz:!1,endQuiz:!1,level:30,stage:0,score:0,type:{capital:!0,flag:!1},isTrue:!1,isFalse:!1}),x=Object(j.a)(v,2),z=x[0],N=x[1],q=Object(s.useRef)(null),w=function(){var e=z.level;z.stage!==e+1||N(Object(o.a)(Object(o.a)({},z),{},{startQuiz:!1,endQuiz:!0}))},Q=function(){var e=Math.random()<.5;i&&N(Object(o.a)(Object(o.a)({},z),{},{type:{capital:e,flag:!e},isTrue:!1,isFalse:!1}))},k=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(Object(o.a)(Object(o.a)({},z),{},{startQuiz:!0,endQuiz:!1,isFalse:!1,isTrue:!1,stage:z.stage+=1}));case 2:Q(),h(a,p,O),w();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a!==p.answer.trueAnswer){e.next=6;break}return e.next=3,N(Object(o.a)(Object(o.a)({},z),{},{isFalse:!1,isTrue:!0,score:z.score+=1}));case 3:return e.abrupt("return",t.target.classList.add("true"));case 6:return e.next=8,N(Object(o.a)(Object(o.a)({},z),{},{isFalse:!0,isTrue:!1}));case 8:return q.current.buttonRefs.current.buttonRefs.map((function(e){return e.current.querySelector(".answer-text").innerText===p.answer.trueAnswer?(e.current.querySelector("i").innerText="check_circle_outline",e.current.className="answer-button true"):e})),e.abrupt("return",t.target.classList.add("false"));case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){a||fetch("https://restcountries.com/v3.1/all").then((function(e){return e.json()})).then((function(e){return c(e)})).catch((function(e){console.log(e)}))}),[a]),Object(f.jsxs)("div",{className:"App",style:{backgroundImage:"url(".concat("".concat("/country-quiz","/images/background.png"),")")},children:[Object(f.jsx)(y,{ref:q,quizState:z,setQuizState:N,quizQuestion:p,setQuizQuestion:O,setQuizAllType:b,checkAnswer:S,resetQuizGame:function(){O({question:{capital:"",flag:""},answer:{trueAnswer:"",falseAnswer:[]},option:[],alfabet:["A","B","C","D"]}),N({startQuiz:!1,endQuiz:!1,level:30,stage:0,score:0,type:{capital:!0,flag:!1},isTrue:!1,isFalse:!1}),b(!1)},getQuestion:k,isQuizReady:(null===a||void 0===a?void 0:a.length)>0}),Object(f.jsx)(g,{})]})};r.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(z,{})}),document.getElementById("root"))},8:function(e,t,a){}},[[15,1,2]]]);
//# sourceMappingURL=main.a892e977.chunk.js.map